var UTIL=function(){let e={minMax:function(e,t,n){return Math.max(t,Math.min(n,e))},map:function(e,t,n){return e*n/t}};return e}(),ACE=function(){let e={width:null};const t="/js/slideventura.mp3";window.AudioContext||window.webkitAudioContext;let n=null,i=null,o=null,u=null,a=null,r=!1;var c=document.getElementById("text"),l=0,d=0,h=0,s=0;let m,f;return e.init=function(){m=document.querySelector("body"),f=document.querySelector("#img"),window.addEventListener("resize",(function(){ACE.getWidth()}),!0),ACE.getWidth(),m.addEventListener("mousemove",ACE.move),m.addEventListener("touchmove",ACE.move);try{n=new AudioContext,i=n.createGain(),i.gain.value=0,i.connect(n.destination)}catch(e){n=null,i=null}(function(){if(!n)return Promise.reject();if(o)return Promise.resolve(o);if(a)return a;return a=fetch(t).then((function(e){return e.arrayBuffer()})).then((function(e){return new Promise((function(t,i){n.decodeAudioData(e,t,i)}))})).then((function(e){return o=e,o})).catch((function(e){throw a=null,e})),a})().then((function(){!u&&o&&(u=n.createBufferSource(),u.buffer=o,u.loop=!0,u.connect(i))}));let e=async function(){r||(r=!0,await n.resume(),await u.start(0),c.style.display="none")};m.addEventListener("click",e),m.addEventListener("touchstart",e),c.style.display="block",requestAnimationFrame(ACE.animation)},e.getWidth=function(){let e=document.getElementById("img").getBoundingClientRect();ACE.width=e.width},e.move=function(e){let t;if("number"!=typeof e.pageX||isNaN(e.pageX))if(e.touches&&e.touches.length){t=e.touches[e.touches.length-1].pageX}else{if(!e.changedTouches||!e.changedTouches.length)return;t=e.changedTouches[e.changedTouches.length-1].pageX}else t=e.pageX;let n=f.getBoundingClientRect().left+window.scrollX;t=UTIL.minMax(t-n,0,ACE.width),d=ACE.width-t},e.animation=function(){if(l+=(d-l)/6,s=Math.round(UTIL.map(l,ACE.width,26)),h=Math.max(s,1)*ACE.width,f.style.backgroundPositionX=h+"px",s>0&&s<=26){let e=UTIL.map(Math.min(Math.max(s-4,0),16),16,.5);i.gain.value=e}else i.gain.value=0;requestAnimationFrame(ACE.animation)},e}();ACE.init();