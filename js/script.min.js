var UTIL=function(){let e={minMax:function(e,t,n){return Math.max(t,Math.min(n,e))},map:function(e,t,n){return e*n/t}};return e}(),ACE=function(){let e={width:null},t=new Audio("/js/slideventura.mp3");t.loop=!0,t.volume=.5;var n=document.getElementById("text"),i=0,o=0,a=0,u=0;let l,d;return e.init=function(){l=document.querySelector("body"),d=document.querySelector("#img"),window.addEventListener("resize",(function(){ACE.getWidth()}),!0),ACE.getWidth(),l.addEventListener("mousemove",ACE.move),l.addEventListener("touchmove",ACE.move),l.addEventListener("click",(function(){t.play(),n.style.display="none"})),n.style.display="block",requestAnimationFrame(ACE.animation)},e.getWidth=function(){let e=document.getElementById("img").getBoundingClientRect();ACE.width=e.width},e.move=function(e){let t;if("number"!=typeof e.pageX||isNaN(e.pageX))if(e.touches&&e.touches.length){t=e.touches[e.touches.length-1].pageX}else{if(!e.changedTouches||!e.changedTouches.length)return;t=e.changedTouches[e.changedTouches.length-1].pageX}else t=e.pageX;let n=d.getBoundingClientRect().left+window.scrollX;t=UTIL.minMax(t-n,0,ACE.width),o=ACE.width-t},e.animation=function(){if(i+=(o-i)/6,u=Math.round(UTIL.map(i,ACE.width,26)),a=Math.max(u,1)*ACE.width,d.style.backgroundPositionX=a+"px",u>0&&u<=26){let e=UTIL.map(Math.min(Math.max(u-4,0),16),16,.5);console.log(e),t.volume=e}else t.volume=0;requestAnimationFrame(ACE.animation)},e}();ACE.init();